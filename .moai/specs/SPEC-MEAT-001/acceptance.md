# SPEC-MEAT-001: 인수 기준

---

**SPEC ID:** SPEC-MEAT-001
**Title:** MeatPicker - Meat Quality Analysis Website
**Created:** 2026-02-13

---

## 1. 사진 입력 기능 (FR-001)

### AC-001-1: 파일 업로드

```gherkin
Given 사용자가 메인 페이지에 접속한 상태
When 사진 업로드 버튼을 클릭
Then 기기의 파일 선택기가 열린다
And JPG, PNG, WEBP 형식의 이미지만 선택 가능하다
```

### AC-001-2: 카메라 촬영

```gherkin
Given 사용자가 모바일 기기에서 메인 페이지에 접속한 상태
When 카메라 촬영 버튼을 클릭
Then 기기의 카메라가 활성화된다
And 촬영한 사진이 미리보기에 표시된다
```

### AC-001-3: 이미지 미리보기

```gherkin
Given 사용자가 이미지를 선택하거나 촬영한 상태
When 이미지가 로드됨
Then 이미지 미리보기가 표시된다
And 이미지가 1024x1024 이하, 1MB 이하로 리사이즈된다
And 분석 진행/이미지 변경 옵션이 표시된다
```

### AC-001-4: 잘못된 파일 업로드

```gherkin
Given 사용자가 파일 선택기에서 파일을 선택한 상태
When 선택한 파일이 이미지가 아닌 경우 (PDF, TXT 등)
Then "이미지 파일만 업로드할 수 있습니다" 오류 메시지가 표시된다
And 분석 진행 버튼이 비활성화된다
```

---

## 2. 고기 종류 및 부위 선택 (FR-002)

### AC-002-1: 고기 종류 선택

```gherkin
Given 사용자가 이미지를 입력한 상태
When 고기 종류 선택 UI가 표시됨
Then 소고기와 돼지고기 중 하나를 선택할 수 있다
And 선택된 종류가 시각적으로 강조 표시된다
```

### AC-002-2: 소고기 부위 선택

```gherkin
Given 사용자가 소고기를 선택한 상태
When 부위 선택 UI가 표시됨
Then 안심, 등심, 채끝, 갈비, 사태/양지, 우둔/설도 6개 부위가 표시된다
And 각 부위는 한국어 이름과 영문 이름이 함께 표시된다
```

### AC-002-3: 돼지고기 부위 선택

```gherkin
Given 사용자가 돼지고기를 선택한 상태
When 부위 선택 UI가 표시됨
Then 삼겹살, 목심, 항정살, 안심/등심, 앞다리살 5개 부위가 표시된다
And 각 부위는 한국어 이름과 영문 이름이 함께 표시된다
```

### AC-002-4: 종류 변경 시 부위 초기화

```gherkin
Given 사용자가 소고기를 선택하고 "등심"을 선택한 상태
When 고기 종류를 돼지고기로 변경
Then 이전 소고기 부위 선택이 초기화된다
And 돼지고기 부위 목록이 새로 표시된다
```

---

## 3. AI 품질 분석 (FR-003)

### AC-003-1: 분석 요청

```gherkin
Given 사용자가 이미지, 고기 종류, 부위를 모두 선택한 상태
When 분석 시작 버튼을 클릭
Then 로딩 인디케이터가 표시된다
And Vision AI API에 이미지와 분석 기준이 전송된다
```

### AC-003-2: 분석 필수 조건 미충족

```gherkin
Given 사용자가 이미지만 업로드하고 고기 종류/부위를 선택하지 않은 상태
When 분석 시작 버튼을 확인
Then 버튼이 비활성화 상태이다
And "고기 종류와 부위를 선택해주세요" 안내 메시지가 표시된다
```

### AC-003-3: API 호출 실패

```gherkin
Given 분석 요청이 전송된 상태
When Vision AI API 호출이 실패 (네트워크 오류, 서버 오류 등)
Then "분석에 실패했습니다. 다시 시도해주세요." 오류 메시지가 표시된다
And 재시도 버튼이 제공된다
```

### AC-003-4: 비고기 사진 감지

```gherkin
Given 사용자가 고기가 아닌 사진(풍경, 사람 등)을 업로드한 상태
When AI 분석이 수행됨
Then "고기 사진을 업로드해주세요" 안내 메시지가 표시된다
And 새 사진 업로드 옵션이 제공된다
```

---

## 4. 분석 결과 표시 (FR-004)

### AC-004-1: 종합 결과 표시

```gherkin
Given AI 분석이 성공적으로 완료된 상태
When 결과 화면이 표시됨
Then 종합 등급(좋음/보통/나쁨)이 표시된다
And 종합 점수(0-100)가 표시된다
And 등급에 따라 색상이 구분된다 (좋음=초록, 보통=노랑, 나쁨=빨강)
```

### AC-004-2: 세부 분석 항목 표시

```gherkin
Given 분석 결과가 표시된 상태
When 세부 분석 영역을 확인
Then 색상, 마블링/지방, 표면 상태, 형태/균일성 4개 항목이 표시된다
And 각 항목에 점수(0-100)와 한국어 설명이 포함된다
```

### AC-004-3: 불량 징후 경고

```gherkin
Given 분석 결과에 불량 징후(갈변, PSE, 점액질 등)가 감지된 상태
When 결과 화면이 표시됨
Then 경고 배너가 눈에 띄는 색상(빨강/주황)으로 표시된다
And 감지된 불량 징후의 설명이 포함된다
```

### AC-004-4: 분석 한계 안내

```gherkin
Given 분석 결과가 표시된 상태
When 결과 화면 하단을 확인
Then "사진으로 확인할 수 없는 항목" 안내가 표시된다
And 냄새, 탄력, 내부 결함이 확인 불가 항목으로 안내된다
And 면책 조항이 표시된다
```

### AC-004-5: 부위 기준 비교

```gherkin
Given 소고기 등심 분석 결과가 표시된 상태
When 부위 기준 비교 영역을 확인
Then 등심의 좋은 고기 특징(마블링 고르게 분포 등)이 표시된다
And 현재 사진과의 비교 설명이 포함된다
```

---

## 5. 분석 이력 (FR-005, 선택 기능)

### AC-005-1: 이력 저장

```gherkin
Given 분석이 완료된 상태
When 결과가 표시됨
Then 분석 결과가 LocalStorage에 자동 저장된다
And 저장 항목: 분석 날짜, 고기 종류, 부위, 종합 등급, 종합 점수
```

### AC-005-2: 이력 조회

```gherkin
Given 이전에 분석을 수행한 이력이 있는 상태
When 이력 페이지에 접속
Then 최근 분석 이력이 목록으로 표시된다
And 각 항목에 날짜, 고기 종류, 부위, 등급이 표시된다
```

---

## 6. 비기능 요구사항 검증

### AC-NFR-001: 성능

```gherkin
Given 사용자가 유효한 이미지로 분석을 요청한 상태
When 네트워크 상태가 양호함
Then 분석 결과가 10초 이내에 표시된다
And 이미지 리사이즈는 2초 이내에 완료된다
```

### AC-NFR-002: 반응형 디자인

```gherkin
Given 사용자가 모바일 기기(320px-768px)에서 접속한 상태
When 메인 페이지를 확인
Then 모든 UI 요소가 화면 내에 적절히 배치된다
And 가로 스크롤이 발생하지 않는다
And 터치 대상은 최소 44x44px 크기를 가진다
```

### AC-NFR-003: 보안

```gherkin
Given 분석이 완료된 상태
When 서버의 상태를 확인
Then 업로드된 이미지가 서버에 영구 저장되지 않는다
And API 키가 클라이언트 코드에 노출되지 않는다
And 브라우저 개발자 도구에서 API 키를 확인할 수 없다
```

---

## 7. Quality Gate (품질 게이트)

### Definition of Done

- [ ] 모든 기능 요구사항(FR-001 ~ FR-004)이 구현됨
- [ ] 모든 인수 기준 테스트 시나리오가 통과함
- [ ] 반응형 디자인이 320px ~ 1920px 범위에서 검증됨
- [ ] Vision AI API 통합이 정상 동작함
- [ ] 이미지 리사이즈/압축이 정상 동작함
- [ ] API 키가 서버사이드에서만 접근됨
- [ ] 에러 처리 시나리오가 모두 구현됨
- [ ] 한국어 UI 텍스트가 자연스럽고 올바름
- [ ] 면책 조항 및 분석 한계 안내가 표시됨
- [ ] Lighthouse 성능 점수 80 이상
- [ ] WCAG AA 색상 대비 기준 충족

### 검증 방법

| 항목 | 검증 방법 |
|------|-----------|
| 기능 테스트 | 수동 테스트 + E2E 테스트 (Playwright) |
| 반응형 디자인 | Chrome DevTools 디바이스 에뮬레이션 |
| 성능 | Lighthouse 측정 |
| 접근성 | WCAG 색상 대비 체크 도구 |
| 보안 | 브라우저 개발자 도구 네트워크 탭 검증 |
| API 통합 | 다양한 고기 사진으로 실제 분석 테스트 |
